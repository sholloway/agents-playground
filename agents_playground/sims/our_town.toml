[simulation.ui]
title = 'Our Town'
description = 'A simulation of a small town.'
instructions = 'Click the start button to begin the simulation.'

# Note: All locations are listed in cell coordinates.
# Cell rows and columns start with 0.
[scene]
cell_size = [20, 20]
height = 1300 # In pixels.

# Define the factory
[[scene.entities.factories]]
id = 1
title = "The Factory"
location = [12, 1] 
width = 40          
height = 5
color=[0, 0, 0]
fill=[221, 160, 221]
renderer='ot_building_renderer'
update_method='ot_update_building'

# Define the schools
[scene.entities]
schools = [
  { id = 1, title = "Elementry School",   location = [12, 7], width = 8, height = 3, color=[0, 0, 0], fill=[0, 249, 153], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 2, title = "Middle School",      location = [21, 7], width = 8, height = 3, color=[0, 0, 0], fill=[0, 249, 153], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 3, title = "High School",        location = [30, 7], width = 8, height = 3, color=[0, 0, 0], fill=[0, 249, 153], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 4, title = "Community College",  location = [39, 7], width = 8, height = 3, color=[0, 0, 0], fill=[0, 250, 120], renderer='ot_building_renderer', update_method='ot_update_building'},
  { id = 5, title = "University",         location = [48, 7], width = 8, height = 3, color=[0, 0, 0], fill=[0, 250, 120], renderer='ot_building_renderer', update_method='ot_update_building' }  
]

churches = [
  { id = 1, title = "Temple",           location = [12, 15], width = 3, height = 3, color=[0, 0, 0], fill=[229, 229, 249], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 2, title = "Mosque",           location = [18, 15], width = 4, height = 3, color=[0, 0, 0], fill=[229, 229, 249], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 3, title = "Presbyterian",     location = [24, 15], width = 8, height = 3, color=[0, 0, 0], fill=[229, 229, 249], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 4, title = "Catholic Church",  location = [34, 15], width = 8, height = 3, color=[0, 0, 0], fill=[229, 229, 249], renderer='ot_building_renderer', update_method='ot_update_building' }
]

main_street_businesses = [
  { id = 1, title = "Murv's\nDiner",          location = [12, 23], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 2, title = "Fancy Pants\nResturant", location = [16, 23], width = 6, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 3, title = "Coffee\nBar",            location = [23, 23], width = 3, height = 2, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 4, title = "Bar",                    location = [27, 23], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 5, title = "Bowling Ally",           location = [31, 23], width = 10, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  
  
  { id = 6, title = "Roller Rink",        location = [12, 32], width = 10, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 7, title = "Comic\nShop",        location = [23, 32], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 8, title = "Spices",             location = [27, 32], width = 2, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 9, title = "Pawn\nShop",         location = [30, 32], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 10, title = "Discount\nRack",    location = [34, 32], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 11, title = "Barbershop",        location = [38, 32], width = 4, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 12, title = "Salon",             location = [43, 32], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 13, title = "Fortune\nTeller",   location = [47, 32], width = 3, height = 3, color=[0, 0, 0], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' },
]

parks = [
  { id = 1, title = "Peaceful Park",      location = [12, 36], width = 26, height = 4, color=[100, 230, 100], fill=[100, 230, 100], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 2, title = "Last Stop Cemetery", location = [39, 39], width = 13, height = 6, color=[100, 230, 100], fill=[100, 230, 100], renderer='ot_building_renderer', update_method='ot_update_building' },
]

gov_buildings = [
  { id = 1, title = "City Hall",location = [12, 46], width = 4,  height = 4, color=[60, 230, 100], fill=[216, 112, 214], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 2, title = "Court",    location = [17, 46], width = 3,  height = 4, color=[100, 230, 100], fill=[216, 112, 214], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 3, title = "Jail",     location = [21, 47], width = 6,  height = 3, color=[100, 230, 100], fill=[216, 112, 214], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 4, title = "Prison",   location = [28, 46], width = 10, height = 4, color=[100, 230, 100], fill=[216, 112, 214], renderer='ot_building_renderer', update_method='ot_update_building' },
]

big_box_stores = [
  { id = 1, title = "Mega-mart", description="Grocery/Home Supply Store", location = [12, 51], width = 30, height = 5, color=[100, 230, 100], fill=[188, 183, 107], renderer='ot_building_renderer', update_method='ot_update_building' }
] 

# Residential Area: Single Family Homes, Apartment Buildings
apartment_buildings = [
  { id = 1, title = "Tower 1", location = [12, 57],  width = 10, height = 3, color=[100, 230, 100], fill=[63, 104, 224], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 2, title = "Tower 2", location = [23, 57], width = 10, height = 3, color=[100, 230, 100], fill=[63, 104, 224], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 3, title = "Tower 3", location = [34, 57], width = 10, height = 3, color=[100, 230, 100], fill=[63, 104, 224], renderer='ot_building_renderer', update_method='ot_update_building' },
  { id = 4, title = "Tower 4", location = [45, 57], width = 10, height = 3, color=[100, 230, 100], fill=[63, 104, 224], renderer='ot_building_renderer', update_method='ot_update_building' }
]

# Roads...
# The roads need to support graph traversal. 
# Options
# 1. Use a line segment path. Don't worry about having the roads curve. 
#    I don't think it's worth the hassel of fooling around with curve libraries for the simulation.
# 
# 2. The current implementation of a line path doesn't account for branching paths.
#    Probably need a higher level abstraction that groups multiple paths.
#    For example "graph" which is a connection of points and edges. That can then be 
#    Rendered and traversed. Try to see if this can be implented as a single entity
#    to avoid having to create additional TOML parsing scene builders. 

# streets are long and just define their start and end points since they're all linear.
# They are rendered as disconneted line segments that can have text associated with them.
# A street is 2 cells wide.
# An interstate is 4 cells wide. The traffic is in lanes.
# The end points are the center line.
streets = [
  { id = 1, label='Interstate',       start = [5, 0], end = [5, 64], lanes=4, color=[211, 211, 211], renderer='ot_interstate_renderer', update_method='ot_update_interstate'},
  { id = 2, label='Factory Drive',    start = [7, 3], end = [12, 3],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 3, label='Education Lane',   start = [7, 13],  end = [51, 13],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 4, label='Elementry Street', start = [14, 10], end = [14, 12],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 5, label='Middle Street',    start = [23, 10], end = [23, 12],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 6, label='HS Street',        start = [32, 10], end = [32, 12],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 7, label='CC. Street',       start = [41, 10], end = [41, 12],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 8, label='U Street',         start = [50, 10], end = [50, 12],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 9, label='Religion Row', start = [7, 21],  end = [52, 21],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 10, label='T Street',    start = [13, 18], end = [13, 20],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 11, label='M Street',    start = [20, 18], end = [20, 20],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 12, label='P Street',    start = [30, 18], end = [30, 20],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 13, label='P Street',    start = [39, 18], end = [39, 20],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 14, label='Main Street', start = [7, 29],  end = [52, 29],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 15, label='Diner',       start = [13, 26], end = [13, 28],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 16, label='Resturant',   start = [18, 26], end = [18, 28],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 17, label='Coffee Bar',  start = [24, 25], end = [24, 28],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 18, label='Bar',         start = [29, 26], end = [29, 28],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 19, label='Bowling Ally',start = [38, 26], end = [38, 28],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 20, label='Roller Rink', start = [14, 30], end = [14, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 21, label='Comic\nShop', start = [24, 30], end = [24, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 22, label='Spices',      start = [28, 30], end = [28, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 23, label='Pawn Shop',   start = [31, 30], end = [31, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 24, label='Rack',        start = [35, 30], end = [35, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 25, label='Barbershop',  start = [39, 30], end = [39, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 26, label='Salon',       start = [45, 30], end = [45, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 27, label='Fortune',     start = [48, 30], end = [48, 32],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 28, label='Park Street', start = [7, 43], end = [39, 43],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 29, label='Park Ave',    start = [14, 40], end = [14, 42],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 30, label='City Hall',   start = [14, 44], end = [14, 46],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 31, label='Court',       start = [19, 44], end = [19, 46],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 32, label='Jail',        start = [25, 44], end = [25, 47],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 33, label='Prison',      start = [30, 44], end = [30, 46],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 34, label='Mega Mart', start = [7, 54], end = [12, 54],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
  { id = 35, label='Apartment Drive', start = [7, 63], end = [50, 63],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 36, label='Tower 1', start = [14, 60], end = [14, 62],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 37, label='Tower 2', start = [25, 60], end = [25, 62],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 38, label='Tower 3', start = [36, 60], end = [36, 62],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  { id = 39, label='Tower 4', start = [47, 60], end = [47, 62],  lanes=2, color=[211, 211, 211], renderer='ot_street_renderer', update_method='ot_update_interstate'},
  
]

# A directed graph is used for a navigation mesh.
# Nodes in the navigation graph are called junctions

junctions = [
  { id = 'factory-exit',      location=[11, 2], entity_id=1, entity_type='factories', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'factory-entrance',  location=[11, 3], entity_id=1, entity_type='factories', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 'el-school-exit',      location=[13, 10], entity_id=1, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'el-school-entrance',  location=[14, 10], entity_id=1, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'm-school-exit',       location=[22, 10], entity_id=2, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'm-school-entrance',   location=[23, 10], entity_id=2, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'hs-school-exit',      location=[31, 10], entity_id=3, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'hs-school-entrance',  location=[32, 10], entity_id=3, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'cc-school-exit',      location=[40, 10], entity_id=4, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'cc-school-entrance',  location=[41, 10], entity_id=4, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'u-school-exit',       location=[49, 10], entity_id=5, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'u-school-entrance',   location=[50, 10], entity_id=5, entity_type='schools', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 't-church-exit',     location=[12, 18], entity_id=1, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 't-church-entrance', location=[13, 18], entity_id=1, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'm-church-exit',     location=[19, 18], entity_id=2, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'm-church-entrance', location=[20, 18], entity_id=2, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'p-church-exit',     location=[29, 18], entity_id=3, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'p-church-entrance', location=[30, 18], entity_id=3, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'c-church-exit',     location=[38, 18], entity_id=4, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'c-church-entrance', location=[39, 18], entity_id=4, entity_type='churches', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 'diner-business-exit',            location=[12, 26], entity_id=1, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'diner-business-entrance',        location=[13, 26], entity_id=1, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'resturant-business-exit',        location=[17, 26], entity_id=2, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'resturant-business-entrance',    location=[18, 26], entity_id=2, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'coffee-bar-business-exit',       location=[23, 25], entity_id=3, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'coffee-bar-business-entrance',   location=[24, 25], entity_id=3, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'bar-business-exit',              location=[28, 26], entity_id=4, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'bar-business-entrance',          location=[29, 26], entity_id=4, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'bowling-ally-business-exit',     location=[37, 26], entity_id=5, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'bowling-ally-business-entrance', location=[38, 26], entity_id=5, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 'roller-rink-business-entrance', location=[13, 31], entity_id=6, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'roller-rink-business-exit',     location=[14, 31], entity_id=6, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'comic-shop-business-entrance',  location=[23, 31], entity_id=7, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'comic-shop-business-exit',      location=[24, 31], entity_id=7, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'spice-shop-business-entrance',  location=[27, 31], entity_id=8, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'spice-shop-business-exit',      location=[28, 31], entity_id=8, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'pawn-shop-business-entrance',   location=[30, 31], entity_id=9, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'pawn-shop-business-exit',       location=[31, 31], entity_id=9, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'discounts-business-entrance',   location=[34, 31], entity_id=10, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'discounts-business-exit',       location=[35, 31], entity_id=10, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'barbershop-business-entrance',  location=[38, 31], entity_id=11, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'barbershop-business-exit',      location=[39, 31], entity_id=11, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'salon-business-entrance',       location=[44, 31], entity_id=12, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'salon-business-exit',           location=[45, 31], entity_id=12, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'fortune-business-entrance',     location=[47, 31], entity_id=13, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'fortune-business-exit',         location=[48, 31], entity_id=13, entity_type='main_street_businesses', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 'peaceful-park-exit',      location=[13,40], entity_id=1, entity_type='parks', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'peaceful-park-entrance',  location=[14,40], entity_id=1, entity_type='parks', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'cemetery-exit',           location=[38,42], entity_id=2, entity_type='parks', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'cemetery-entrance',       location=[38,43], entity_id=2, entity_type='parks', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},

  { id = 'city-hall-entrance',  location=[13, 45], entity_id=1, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'city-hall-exit',      location=[14, 45], entity_id=1, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'court-entrance',      location=[18, 45], entity_id=2, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'court-exit',          location=[19, 45], entity_id=2, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'jail-entrance',       location=[24, 46], entity_id=3, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'jail-exit',           location=[25, 46], entity_id=3, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'prison-entrance',     location=[29, 45], entity_id=4, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'prison-exit',         location=[30, 45], entity_id=4, entity_type='gov_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 'mega-mart-exit',      location=[11, 53], entity_id=1, entity_type='big_box_stores', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'mega-mart-entrance',  location=[11, 54], entity_id=1, entity_type='big_box_stores', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  { id = 'tower-1-apt-exit',      location=[13, 60], entity_id=1, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-1-apt-entrance',  location=[14, 60], entity_id=1, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-2-apt-exit',      location=[24, 60], entity_id=2, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-2-apt-entrance',  location=[25, 60], entity_id=2, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-3-apt-exit',      location=[35, 60], entity_id=3, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-3-apt-entrance',  location=[36, 60], entity_id=3, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-4-apt-exit',      location=[46, 60], entity_id=4, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  { id = 'tower-4-apt-entrance',  location=[47, 60], entity_id=4, entity_type='apartment_buildings', renderer='ot_draw_junction_node', update_method='ot_update_junction_nodes'},
  
  
  # Define the junctions that aren't entrances or exits.
  { id = '3,2',  location=[3, 2], renderer='ot_draw_junction_node'},
  { id = '3,12', location=[3, 12], renderer='ot_draw_junction_node'},
  { id = '3,20', location=[3, 20], renderer='ot_draw_junction_node'},
  { id = '3,28', location=[3, 28], renderer='ot_draw_junction_node'},
  { id = '3,42', location=[3, 42], renderer='ot_draw_junction_node'},
  { id = '3,53', location=[3, 53], renderer='ot_draw_junction_node'},
  { id = '3,63', location=[3, 63], renderer='ot_draw_junction_node'},
]

# An adjacency list of junctions. 
# The adjacency list is directional. 

# The idea of having the 4 line highway introduces complexities for the nav mesh.
# One thought is to have a communter lane to the factory. So if agent's are going to 
# the factory from their apartment or vice/versa, they get in the outer lane.
# If they're going to a side street, then they stay in the lane closest to the 
# off ramps.

segments = [
  { id = 1, junction='factory-exit', maps_to = ['3,2'], renderer='ot_draw_nav_mesh_segment' },
  { id = 2, junction='3,2', maps_to = ['3,12'], renderer='ot_draw_nav_mesh_segment' },
  { id = 3, junction='3,12', maps_to = ['3,20'], renderer='ot_draw_nav_mesh_segment' },
  { id = 4, junction='3,20', maps_to = ['3,28'], renderer='ot_draw_nav_mesh_segment' },
  { id = 5, junction='3,28', maps_to = ['3,42'], renderer='ot_draw_nav_mesh_segment' },
  { id = 6, junction='3,42', maps_to = ['3,53'], renderer='ot_draw_nav_mesh_segment' },
  { id = 7, junction='3,53', maps_to = ['3,63'], renderer='ot_draw_nav_mesh_segment' },
]


# Ideally, I should be able to toggle off/on the streets/nav graph/houses/agents
# as UI layers.

# An idea is to have phases that coroutines can be assigned to.
# Possible Phases: pre_sim, per_frame, post_sim
# The default would be per_frame so you don't have to specify it every time.
# [[scene.schedule]]
# coroutine = 'bootstrap_town_population'
# phase = 'pre_start'

# TODO:
# - Update the buildings to use units in Cells rather than pixels.

